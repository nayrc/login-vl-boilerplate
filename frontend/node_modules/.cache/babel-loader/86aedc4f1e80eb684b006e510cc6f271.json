{"remainingRequest":"T:\\Work\\Lingkar9\\Study\\Bootcamp\\Submission\\Task-31-agustus-2021\\frontend\\node_modules\\babel-loader\\lib\\index.js!T:\\Work\\Lingkar9\\Study\\Bootcamp\\Submission\\Task-31-agustus-2021\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!T:\\Work\\Lingkar9\\Study\\Bootcamp\\Submission\\Task-31-agustus-2021\\frontend\\src\\config\\http.js","dependencies":[{"path":"T:\\Work\\Lingkar9\\Study\\Bootcamp\\Submission\\Task-31-agustus-2021\\frontend\\src\\config\\http.js","mtime":1628401791069},{"path":"T:\\Work\\Lingkar9\\Study\\Bootcamp\\Submission\\Task-31-agustus-2021\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Work\\Lingkar9\\Study\\Bootcamp\\Submission\\Task-31-agustus-2021\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"T:\\Work\\Lingkar9\\Study\\Bootcamp\\Submission\\Task-31-agustus-2021\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgY29va2llcyBmcm9tICJ2dWUtY29va2llcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKdmFyIGJhc2VVcmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfVVJMLAogICAgYmFzZVVybEFQSSA9ICIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfVVJMKTsKdmFyIGh0dHAgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IGJhc2VVcmxBUEkKfSk7CgpmdW5jdGlvbiBzZXRUb2tlbih0b2tlbikgewogIHRva2VuID8gdG9rZW4gPSAiQmVhcmVyICIuY29uY2F0KHRva2VuKSA6IHRva2VuID0gIiI7CiAgaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsiQXV0aG9yaXphdGlvbiJdID0gdG9rZW47Cn0KCmZ1bmN0aW9uIGNhdGNoSHR0cChlcnIpIHsKICBpZiAoZXJyLnJlc3BvbnNlKSB7CiAgICB2YXIgYXJyU3RhdHVzID0gWzQwMCwgNDAxLCA0MDQsIDQwOSwgNDIyXSwKICAgICAgICBzdGF0dXMgPSBlcnIucmVzcG9uc2Uuc3RhdHVzLAogICAgICAgIHVybCA9IGVyci5yZXNwb25zZS5jb25maWcudXJsOwoKICAgIGlmIChzdGF0dXMgJiYgYXJyU3RhdHVzLmluY2x1ZGVzKHN0YXR1cykpIHsKICAgICAgaWYgKHN0YXR1cyA9PT0gNDAxICYmIHVybCAhPSAiYXV0aC9sb2dpbiIpIHsKICAgICAgICBjb29raWVzLnJlbW92ZSgiYWNjZXNzX3Rva2VuIik7CiAgICAgICAgY29va2llcy5yZW1vdmUoInVzZXJfZGF0YSIpOwogICAgICAgIHNldFRva2VuKCk7CiAgICAgICAgcmV0dXJuIHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIGVyci5yZXNwb25zZTsKICAgIH0KICB9CgogIHJldHVybiBhbGVydChlcnIpOwp9CgpleHBvcnQgeyBiYXNlVXJsLCBiYXNlVXJsQVBJLCBodHRwLCBzZXRUb2tlbiwgY2F0Y2hIdHRwIH07"},{"version":3,"sources":["T:/Work/Lingkar9/Study/Bootcamp/Submission/Task-31-agustus-2021/frontend/src/config/http.js"],"names":["axios","cookies","router","baseUrl","process","env","VUE_APP_BASE_URL","baseUrlAPI","http","create","baseURL","setToken","token","defaults","headers","common","catchHttp","err","response","arrStatus","status","url","config","includes","remove","push","name","alert"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,aAApB;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,IAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,gBAA5B;AAAA,IACEC,UAAU,aAAMH,OAAO,CAACC,GAAR,CAAYC,gBAAlB,CADZ;AAGA,IAAME,IAAI,GAAGR,KAAK,CAACS,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAEH;AADe,CAAb,CAAb;;AAIA,SAASI,QAAT,CAAkBC,KAAlB,EAAyB;AACvBA,EAAAA,KAAK,GAAIA,KAAK,oBAAaA,KAAb,CAAT,GAAkCA,KAAK,GAAG,EAA/C;AAEAJ,EAAAA,IAAI,CAACK,QAAL,CAAcC,OAAd,CAAsBC,MAAtB,CAA6B,eAA7B,IAAgDH,KAAhD;AACD;;AAED,SAASI,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,MAAIA,GAAG,CAACC,QAAR,EAAkB;AAChB,QAAMC,SAAS,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,CAAlB;AAAA,QACEC,MAAM,GAAGH,GAAG,CAACC,QAAJ,CAAaE,MADxB;AAAA,QAEEC,GAAG,GAAGJ,GAAG,CAACC,QAAJ,CAAaI,MAAb,CAAoBD,GAF5B;;AAIA,QAAID,MAAM,IAAID,SAAS,CAACI,QAAV,CAAmBH,MAAnB,CAAd,EAA0C;AACxC,UAAIA,MAAM,KAAK,GAAX,IAAkBC,GAAG,IAAI,YAA7B,EAA2C;AACzCpB,QAAAA,OAAO,CAACuB,MAAR,CAAe,cAAf;AACAvB,QAAAA,OAAO,CAACuB,MAAR,CAAe,WAAf;AAEAb,QAAAA,QAAQ;AAER,eAAOT,MAAM,CAACuB,IAAP,CAAY;AACjBC,UAAAA,IAAI,EAAE;AADW,SAAZ,CAAP;AAGD;;AACD,aAAOT,GAAG,CAACC,QAAX;AACD;AACF;;AACD,SAAOS,KAAK,CAACV,GAAD,CAAZ;AACD;;AAED,SACEd,OADF,EAEEI,UAFF,EAGEC,IAHF,EAIEG,QAJF,EAKEK,SALF","sourcesContent":["import axios from \"axios\";\r\nimport cookies from \"vue-cookies\";\r\n\r\nimport router from \"../router\";\r\n\r\nconst baseUrl = process.env.VUE_APP_BASE_URL,\r\n  baseUrlAPI = `${process.env.VUE_APP_BASE_URL}`;\r\n\r\nconst http = axios.create({\r\n  baseURL: baseUrlAPI\r\n});\r\n\r\nfunction setToken(token) {\r\n  token ? (token = `Bearer ${token}`) : (token = \"\");\r\n\r\n  http.defaults.headers.common[\"Authorization\"] = token;\r\n}\r\n\r\nfunction catchHttp(err) {\r\n  if (err.response) {\r\n    const arrStatus = [400, 401, 404, 409, 422],\r\n      status = err.response.status,\r\n      url = err.response.config.url;\r\n\r\n    if (status && arrStatus.includes(status)) {\r\n      if (status === 401 && url != \"auth/login\") {\r\n        cookies.remove(\"access_token\");\r\n        cookies.remove(\"user_data\");\r\n\r\n        setToken();\r\n\r\n        return router.push({\r\n          name: \"Login\"\r\n        });\r\n      }\r\n      return err.response;\r\n    }\r\n  }\r\n  return alert(err);\r\n}\r\n\r\nexport {\r\n  baseUrl,\r\n  baseUrlAPI,\r\n  http,\r\n  setToken,\r\n  catchHttp\r\n};"]}]}